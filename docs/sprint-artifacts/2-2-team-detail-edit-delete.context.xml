<story-context id="2-2-team-detail-edit-delete" v="1.0">
  <metadata>
    <epicId>2</epicId>
    <storyId>2-2</storyId>
    <title>팀 상세 &amp; 수정 &amp; 삭제</title>
    <status>drafted</status>
    <generatedAt>2025-11-29</generatedAt>
    <generator>BMAD Story Context Workflow</generator>
    <sourceStoryPath>docs/sprint-artifacts/2-2-team-detail-edit-delete.md</sourceStoryPath>
  </metadata>

  <story>
    <asA>팀 OWNER 또는 ADMIN</asA>
    <iWant>팀 설정 페이지에서 팀 정보를 수정하고, OWNER로서 팀을 삭제</iWant>
    <soThat>팀의 기본 정보를 최신 상태로 유지하고, 필요 없는 팀을 정리할 수 있다</soThat>
    <tasks>
      <taskGroup title="Part A: 팀 설정 페이지 구현">
        <task id="1" title="팀 상세 API 구현" ac="1, 10">
          <subtask>1.1 app/api/teams/[teamId]/route.ts 생성 (GET, PUT, DELETE)</subtask>
          <subtask>1.2 GET 핸들러: 팀 상세 정보 + 현재 사용자 역할 반환</subtask>
          <subtask>1.3 PUT 핸들러: 팀 이름 수정 (OWNER, ADMIN 권한 검증)</subtask>
          <subtask>1.4 DELETE 핸들러: 팀 Soft Delete (OWNER만)</subtask>
          <subtask>1.5 RLS + API 레벨 권한 이중 검증</subtask>
        </task>
        <task id="2" title="팀 설정 페이지 UI" ac="1, 2, 3, 4">
          <subtask>2.1 app/(dashboard)/teams/[teamId]/settings/page.tsx 생성</subtask>
          <subtask>2.2 TeamSettingsForm 컴포넌트 구현</subtask>
          <subtask>2.3 팀 이름 수정 폼 (react-hook-form + zod)</subtask>
          <subtask>2.4 저장 버튼 + 로딩 상태 + 성공 Toast</subtask>
          <subtask>2.5 수정 성공 시 TanStack Query 캐시 무효화</subtask>
        </task>
      </taskGroup>
      <taskGroup title="Part B: 팀 삭제 기능 구현">
        <task id="3" title="팀 삭제 모달 컴포넌트" ac="5, 6, 9">
          <subtask>3.1 components/teams/team-delete-modal.tsx 생성</subtask>
          <subtask>3.2 경고 메시지 및 삭제될 데이터 목록 표시</subtask>
          <subtask>3.3 팀 이름 입력 확인 필드</subtask>
          <subtask>3.4 "Delete Team" 버튼 (입력 일치 시에만 활성화)</subtask>
          <subtask>3.5 삭제 중 로딩 상태</subtask>
        </task>
        <task id="4" title="Soft Delete 로직 구현" ac="7, 8">
          <subtask>4.1 DELETE API에서 deleted_at = NOW() 설정</subtask>
          <subtask>4.2 관련 프로젝트, 이슈 Cascade Soft Delete 트리거 (또는 수동)</subtask>
          <subtask>4.3 삭제 성공 시 팀 목록 캐시 무효화</subtask>
          <subtask>4.4 활동 로그 기록 (team_deleted)</subtask>
        </task>
      </taskGroup>
      <taskGroup title="Part C: 권한 기반 UI 제어">
        <task id="5" title="역할 기반 UI 조건부 렌더링" ac="2, 3, 5">
          <subtask>5.1 useTeamRole(teamId) 훅 생성 (현재 사용자의 팀 역할 반환)</subtask>
          <subtask>5.2 Settings 탭 표시 조건: role === 'OWNER' || role === 'ADMIN'</subtask>
          <subtask>5.3 삭제 버튼 표시 조건: role === 'OWNER'</subtask>
          <subtask>5.4 MEMBER 접근 시 403 페이지 또는 리다이렉트</subtask>
        </task>
      </taskGroup>
      <taskGroup title="Part D: 팀 상세 페이지 탭 네비게이션">
        <task id="6" title="팀 페이지 레이아웃 및 탭" ac="2, 3">
          <subtask>6.1 app/(dashboard)/teams/[teamId]/layout.tsx 생성</subtask>
          <subtask>6.2 탭 네비게이션: [Members] [Pending Invites] [Activity Log] [Settings]</subtask>
          <subtask>6.3 역할에 따른 탭 표시 조건 적용</subtask>
          <subtask>6.4 활성 탭 하이라이트 스타일링</subtask>
        </task>
      </taskGroup>
      <taskGroup title="Part E: 훅 및 유틸리티">
        <task id="7" title="팀 관련 훅 확장" ac="4, 8">
          <subtask>7.1 hooks/use-teams.ts에 useTeam(teamId) 추가</subtask>
          <subtask>7.2 useUpdateTeam() mutation 구현</subtask>
          <subtask>7.3 useDeleteTeam() mutation 구현</subtask>
          <subtask>7.4 mutation 성공 시 ['teams'] 및 ['team', teamId] 캐시 무효화</subtask>
        </task>
      </taskGroup>
      <taskGroup title="Part F: 검증 스키마">
        <task id="8" title="Zod 스키마 확장" ac="1">
          <subtask>8.1 lib/validations/team.ts에 updateTeamSchema 추가</subtask>
          <subtask>8.2 팀 이름 1~50자 검증</subtask>
          <subtask>8.3 에러 메시지 한국어화</subtask>
        </task>
      </taskGroup>
      <taskGroup title="Part G: 테스트 및 검증">
        <task id="9" title="E2E 테스트 시나리오" ac="1-10">
          <subtask>9.1 OWNER로 팀 수정 테스트</subtask>
          <subtask>9.2 ADMIN으로 팀 수정 테스트</subtask>
          <subtask>9.3 MEMBER로 Settings 접근 차단 테스트</subtask>
          <subtask>9.4 OWNER로 팀 삭제 테스트</subtask>
          <subtask>9.5 ADMIN으로 팀 삭제 시도 → 실패 확인</subtask>
          <subtask>9.6 삭제 후 Sidebar 반영 테스트</subtask>
        </task>
      </taskGroup>
    </tasks>
  </story>

  <acceptanceCriteria>
    <criterion id="AC-1" fr="FR-011">팀 설정 페이지(/teams/[teamId]/settings)에서 팀 이름 수정 가능</criterion>
    <criterion id="AC-2" fr="FR-011">OWNER 또는 ADMIN만 팀 설정 페이지에 접근 및 수정 가능</criterion>
    <criterion id="AC-3" fr="FR-011">MEMBER 역할은 팀 설정 탭/버튼이 숨겨지거나 비활성화됨</criterion>
    <criterion id="AC-4" fr="FR-011">팀 수정 후 변경 내용이 즉시 UI에 반영됨</criterion>
    <criterion id="AC-5" fr="FR-012">OWNER만 팀을 삭제할 수 있음</criterion>
    <criterion id="AC-6" fr="FR-012">삭제 시 확인 모달 표시 (팀 이름 입력 확인)</criterion>
    <criterion id="AC-7" fr="FR-012">삭제된 팀과 하위 데이터(프로젝트, 이슈)는 Soft Delete 처리</criterion>
    <criterion id="AC-8" fr="FR-012">삭제된 팀은 Sidebar에서 즉시 제거됨</criterion>
    <criterion id="AC-9" fr="FR-012">삭제 후 대시보드 또는 팀 선택 페이지로 리다이렉트</criterion>
    <criterion id="AC-10" fr="FR-011, FR-012">API 응답 형식이 표준 포맷 준수 ({ success: true/false, data/error })</criterion>
  </acceptanceCriteria>

  <artifacts>
    <docs>
      <doc type="ux-design" priority="high">
        <path>docs/ux-design-specification.md</path>
        <relevance>전체 UX 설계 사양 - 컴포넌트 스타일, 레이아웃, 상호작용 패턴</relevance>
      </doc>
      <doc type="ux-visual" priority="high">
        <path>docs/ux-design-directions.html</path>
        <relevance>전체 디자인 목업 - Team 화면, 모달 스타일 시각화</relevance>
      </doc>
      <doc type="ux-theme" priority="high">
        <path>docs/ux-color-themes.html</path>
        <relevance>Linear Productivity 컬러 테마 시각화 - 버튼, 폼, 알림 스타일</relevance>
      </doc>
      <doc type="tech-spec" priority="high">
        <path>docs/sprint-artifacts/tech-spec-epic-2.md</path>
        <relevance>Epic 2 기술 사양서 - 팀 관리 UI 전체 스펙, API 설계, 데이터 모델</relevance>
      </doc>
      <doc type="architecture" priority="medium">
        <path>docs/architecture.md</path>
        <relevance>프로젝트 아키텍처 - 프로젝트 구조, 코드 패턴, API 규약</relevance>
      </doc>
    </docs>

    <code>
      <existingComponents>
        <component path="jira-lite-mvp/components/layout/sidebar.tsx" relevance="팀 목록 표시, 선택된 팀 상태 관리 - 팀 삭제 시 업데이트 필요">
          <keyFeatures>
            <feature>Team selector dropdown (mockTeams 현재 하드코딩)</feature>
            <feature>Mobile/Desktop 반응형 사이드바</feature>
            <feature>팀 컨텍스트 전환 (setSelectedTeam)</feature>
          </keyFeatures>
        </component>
        <component path="jira-lite-mvp/components/layout/header.tsx" relevance="헤더 - 팀 수정 시 팀 이름 반영 확인">
          <keyFeatures>
            <feature>검색바</feature>
            <feature>테마 토글</feature>
            <feature>사용자 메뉴</feature>
          </keyFeatures>
        </component>
        <component path="jira-lite-mvp/components/layout/app-shell.tsx" relevance="전체 레이아웃 쉘 - Sidebar + Header + Main">
          <keyFeatures>
            <feature>Sidebar 및 Header 통합</feature>
            <feature>title 및 actions 슬롯</feature>
          </keyFeatures>
        </component>
        <component path="jira-lite-mvp/app/(dashboard)/layout.tsx" relevance="대시보드 레이아웃 - AppShell 사용">
          <keyFeatures>
            <feature>AppShell로 children 래핑</feature>
          </keyFeatures>
        </component>
      </existingComponents>

      <uiComponents>
        <component path="jira-lite-mvp/components/ui/dialog.tsx" relevance="삭제 확인 모달용">
          <usage>TeamDeleteModal에서 사용</usage>
        </component>
        <component path="jira-lite-mvp/components/ui/button.tsx" relevance="버튼 스타일 (Primary, Secondary, Destructive)">
          <variants>default, destructive, outline, secondary, ghost, link</variants>
        </component>
        <component path="jira-lite-mvp/components/ui/input.tsx" relevance="팀 이름 입력 필드">
          <usage>설정 폼, 삭제 확인 입력</usage>
        </component>
        <component path="jira-lite-mvp/components/ui/card.tsx" relevance="설정 섹션 카드">
          <usage>Team Information, Danger Zone 섹션</usage>
        </component>
        <component path="jira-lite-mvp/components/ui/tabs.tsx" relevance="팀 페이지 탭 네비게이션">
          <usage>Members, Pending Invites, Activity Log, Settings 탭</usage>
        </component>
        <component path="jira-lite-mvp/components/ui/alert.tsx" relevance="경고 알림 (Danger Zone)">
          <variants>default, destructive</variants>
        </component>
        <component path="jira-lite-mvp/components/ui/sonner.tsx" relevance="Toast 알림">
          <usage>수정/삭제 성공/실패 알림</usage>
        </component>
        <component path="jira-lite-mvp/components/ui/label.tsx" relevance="폼 라벨">
          <usage>입력 필드 라벨</usage>
        </component>
        <component path="jira-lite-mvp/components/ui/separator.tsx" relevance="섹션 구분선">
          <usage>설정 섹션 간 구분</usage>
        </component>
      </uiComponents>

      <libFiles>
        <file path="jira-lite-mvp/lib/supabase/client.ts" relevance="Supabase 브라우저 클라이언트">
          <usage>클라이언트 컴포넌트에서 DB 접근</usage>
        </file>
        <file path="jira-lite-mvp/lib/supabase/server.ts" relevance="Supabase 서버 클라이언트">
          <usage>API Routes에서 DB 접근</usage>
        </file>
        <file path="jira-lite-mvp/lib/supabase/types.ts" relevance="데이터베이스 타입 정의">
          <types>Team, TeamMember, TeamRole, TeamActivity, Profile</types>
        </file>
        <file path="jira-lite-mvp/lib/utils.ts" relevance="유틸리티 함수 (cn)">
          <usage>클래스 병합</usage>
        </file>
      </libFiles>

      <filesToCreate>
        <file path="jira-lite-mvp/app/api/teams/[teamId]/route.ts" purpose="팀 상세 API (GET, PUT, DELETE)"/>
        <file path="jira-lite-mvp/app/(dashboard)/teams/[teamId]/layout.tsx" purpose="팀 상세 페이지 레이아웃 (탭 네비게이션)"/>
        <file path="jira-lite-mvp/app/(dashboard)/teams/[teamId]/page.tsx" purpose="팀 상세 페이지 (Members 탭 기본)"/>
        <file path="jira-lite-mvp/app/(dashboard)/teams/[teamId]/settings/page.tsx" purpose="팀 설정 페이지"/>
        <file path="jira-lite-mvp/components/teams/team-settings-form.tsx" purpose="팀 설정 폼 컴포넌트"/>
        <file path="jira-lite-mvp/components/teams/team-delete-modal.tsx" purpose="팀 삭제 확인 모달"/>
        <file path="jira-lite-mvp/components/teams/team-tabs.tsx" purpose="팀 페이지 탭 네비게이션"/>
        <file path="jira-lite-mvp/hooks/use-teams.ts" purpose="팀 관련 TanStack Query 훅"/>
        <file path="jira-lite-mvp/lib/validations/team.ts" purpose="팀 관련 Zod 스키마"/>
      </filesToCreate>
    </code>

    <dependencies>
      <runtime>
        <package name="@supabase/supabase-js" version="latest" usage="DB, Auth, RLS"/>
        <package name="@supabase/ssr" version="latest" usage="SSR 클라이언트"/>
        <package name="@tanstack/react-query" version="^5.90.11" usage="서버 상태 캐싱, mutation"/>
        <package name="react-hook-form" version="^7.67.0" usage="폼 관리"/>
        <package name="@hookform/resolvers" version="^5.2.2" usage="Zod 리졸버"/>
        <package name="zod" version="^4.1.13" usage="스키마 검증"/>
        <package name="sonner" version="^2.0.7" usage="Toast 알림"/>
        <package name="lucide-react" version="^0.511.0" usage="아이콘"/>
        <package name="@radix-ui/react-dialog" version="^1.1.15" usage="모달"/>
        <package name="@radix-ui/react-tabs" version="^1.1.13" usage="탭"/>
      </runtime>
    </dependencies>
  </artifacts>

  <constraints>
    <constraint type="security">
      <title>권한 검증 이중화</title>
      <description>RLS 정책과 API 레벨에서 모두 권한 검증 필요</description>
      <implementation>
        - API에서 팀 멤버십 및 역할 확인
        - Supabase RLS로 데이터 접근 제어
        - 다른 팀 접근 시 404 반환 (정보 노출 방지)
      </implementation>
    </constraint>
    <constraint type="data">
      <title>Soft Delete 적용</title>
      <description>팀 삭제 시 deleted_at 필드 설정, 하위 데이터도 Cascade Soft Delete</description>
      <tables>teams, projects, issues, comments</tables>
    </constraint>
    <constraint type="ux">
      <title>Linear Productivity 테마 준수</title>
      <description>UX 사양서의 색상, 스타일, 레이아웃 준수</description>
      <colors>
        <color name="Primary" hex="#5B5FC7"/>
        <color name="Primary Hover" hex="#4F52B3"/>
        <color name="Destructive" hex="#EF4444"/>
        <color name="Border Light" hex="#E4E4E7"/>
        <color name="Border Dark" hex="#2E2E32"/>
      </colors>
    </constraint>
    <constraint type="api">
      <title>표준 API 응답 형식</title>
      <description>모든 API는 { success: true/false, data/error } 형식 준수</description>
      <errorCodes>
        <code name="TEAM_NOT_FOUND" http="404"/>
        <code name="INSUFFICIENT_PERMISSION" http="403"/>
        <code name="VALIDATION_ERROR" http="400"/>
        <code name="UNAUTHORIZED" http="401"/>
      </errorCodes>
    </constraint>
    <constraint type="dependency">
      <title>Story 2-1 선행 필요</title>
      <description>팀 생성/목록 기능이 먼저 구현되어야 수정/삭제 테스트 가능</description>
      <requiredComponents>
        <component>types/team.ts - Team, TeamMember 타입</component>
        <component>hooks/use-teams.ts - useTeams() 기본 훅</component>
        <component>lib/validations/team.ts - createTeamSchema</component>
      </requiredComponents>
    </constraint>
  </constraints>

  <interfaces>
    <api endpoint="GET /api/teams/[teamId]">
      <description>팀 상세 조회</description>
      <auth>팀 멤버 필수</auth>
      <response>
{
  "success": true,
  "data": {
    "id": "uuid",
    "name": "My Team",
    "owner_id": "user-uuid",
    "created_at": "2025-11-29T...",
    "updated_at": "2025-11-29T...",
    "currentUserRole": "OWNER"
  }
}
      </response>
    </api>
    <api endpoint="PUT /api/teams/[teamId]">
      <description>팀 수정</description>
      <auth>OWNER 또는 ADMIN</auth>
      <request>
{
  "name": "Updated Team Name"
}
      </request>
      <responseSuccess>
{
  "success": true,
  "data": {
    "id": "uuid",
    "name": "Updated Team Name",
    "owner_id": "user-uuid",
    "updated_at": "2025-11-29T..."
  }
}
      </responseSuccess>
      <responseError>
{
  "success": false,
  "error": {
    "code": "INSUFFICIENT_PERMISSION",
    "message": "팀 수정 권한이 없습니다"
  }
}
      </responseError>
    </api>
    <api endpoint="DELETE /api/teams/[teamId]">
      <description>팀 삭제 (Soft Delete)</description>
      <auth>OWNER만</auth>
      <responseSuccess>
{
  "success": true,
  "data": { "message": "팀이 삭제되었습니다" }
}
      </responseSuccess>
      <responseError>
{
  "success": false,
  "error": {
    "code": "INSUFFICIENT_PERMISSION",
    "message": "팀 삭제는 OWNER만 가능합니다"
  }
}
      </responseError>
    </api>

    <hooks>
      <hook name="useTeam(teamId: string)">
        <returns>UseQueryResult&lt;TeamWithRole&gt;</returns>
        <queryKey>['team', teamId]</queryKey>
        <staleTime>30초</staleTime>
      </hook>
      <hook name="useTeamRole(teamId: string)">
        <returns>{ role: TeamRole | null, isLoading: boolean }</returns>
        <usage>역할 기반 UI 조건부 렌더링</usage>
      </hook>
      <hook name="useUpdateTeam()">
        <returns>UseMutationResult</returns>
        <invalidates>['teams'], ['team', teamId]</invalidates>
      </hook>
      <hook name="useDeleteTeam()">
        <returns>UseMutationResult</returns>
        <invalidates>['teams']</invalidates>
        <sideEffect>router.push('/') - 대시보드로 리다이렉트</sideEffect>
      </hook>
    </hooks>

    <types>
      <type name="TeamWithRole">
interface TeamWithRole extends Team {
  currentUserRole: TeamRole;
}
      </type>
      <type name="UpdateTeamRequest">
interface UpdateTeamRequest {
  name: string;
}
      </type>
    </types>

    <schemas>
      <schema name="updateTeamSchema">
const updateTeamSchema = z.object({
  name: z.string()
    .min(1, '팀 이름을 입력해주세요')
    .max(50, '팀 이름은 50자 이하로 입력해주세요')
    .trim(),
});
      </schema>
    </schemas>
  </interfaces>

  <tests>
    <standards>
      <standard>Chrome DevTools MCP를 통한 E2E 테스트</standard>
      <standard>API 응답 JSON 구조 검증</standard>
      <standard>권한 기반 접근 제어 테스트</standard>
    </standards>
    <locations>
      <location>브라우저에서 직접 테스트 (localhost:3000)</location>
    </locations>
    <ideas>
      <scenario id="1" ac="1" priority="high">
        <title>OWNER로 팀 이름 수정</title>
        <steps>
          1. OWNER 계정으로 로그인
          2. /teams/[teamId]/settings 페이지 접근
          3. 팀 이름 수정 후 Save Changes 클릭
          4. Toast 알림 확인
          5. Sidebar에서 팀 이름 변경 확인
        </steps>
      </scenario>
      <scenario id="2" ac="2" priority="high">
        <title>ADMIN으로 팀 수정</title>
        <steps>
          1. ADMIN 계정으로 로그인
          2. /teams/[teamId]/settings 접근 가능 확인
          3. 팀 이름 수정 성공 확인
        </steps>
      </scenario>
      <scenario id="3" ac="3" priority="high">
        <title>MEMBER 접근 차단</title>
        <steps>
          1. MEMBER 계정으로 로그인
          2. Settings 탭 미표시 확인
          3. 직접 URL 접근 시 403 또는 리다이렉트 확인
        </steps>
      </scenario>
      <scenario id="4" ac="5, 6, 7, 8, 9" priority="high">
        <title>OWNER로 팀 삭제</title>
        <steps>
          1. OWNER 계정으로 로그인
          2. Settings 페이지 Danger Zone에서 Delete Team 클릭
          3. 확인 모달에서 팀 이름 입력
          4. Delete 버튼 활성화 및 클릭
          5. 삭제 성공 Toast 확인
          6. 대시보드로 리다이렉트 확인
          7. Sidebar에서 팀 제거 확인
          8. DB에서 deleted_at 설정 확인
        </steps>
      </scenario>
      <scenario id="5" ac="5" priority="high">
        <title>ADMIN 삭제 시도 차단</title>
        <steps>
          1. ADMIN 계정으로 로그인
          2. Settings 페이지에서 Delete 버튼 미표시 또는 비활성화 확인
          3. API 직접 호출 시 403 에러 확인
        </steps>
      </scenario>
      <scenario id="6" ac="10" priority="medium">
        <title>API 응답 형식 검증</title>
        <steps>
          1. 각 API 엔드포인트 호출
          2. { success: true/false, data/error } 형식 확인
          3. 에러 코드 및 메시지 정확성 확인
        </steps>
      </scenario>
    </ideas>
  </tests>

  <designReference>
    <uxSpecs>
      <spec title="팀 설정 페이지 레이아웃">
+----------------------------------------------------------+
| Teams > My Team > Settings                                |
+----------------------------------------------------------+
| [Members] [Pending Invites] [Activity Log] [Settings]     |
+----------------------------------------------------------+
|                                                          |
| +------------------------------------------------------+ |
| | Team Information                                     | |
| |                                                      | |
| | Team Name *                                          | |
| | +--------------------------------------------------+ | |
| | | My Team                                          | | |
| | +--------------------------------------------------+ | |
| | Characters: 7/50                                     | |
| |                                                      | |
| | [Cancel]                              [Save Changes] | |
| +------------------------------------------------------+ |
|                                                          |
| +------------------------------------------------------+ |
| | Danger Zone (border-destructive)                     | |
| |                                                      | |
| | Delete this team                                     | |
| | Once deleted, this team and all its data will be    | |
| | permanently removed. This action cannot be undone.   | |
| |                                                      | |
| |                               [Delete Team] (red)   | |
| +------------------------------------------------------+ |
+----------------------------------------------------------+
      </spec>
      <spec title="팀 삭제 확인 모달">
+------------------------------------------+
| ⚠️ Delete Team                        [X] |
+------------------------------------------+
|                                          |
| Are you sure you want to delete "My      |
| Team"? This action cannot be undone.     |
|                                          |
| +--------------------------------------+ |
| | What will be deleted:                | |
| | • All projects (3)                   | |
| | • All issues (45)                    | |
| | • All comments and activity history  | |
| | • Team member associations           | |
| +--------------------------------------+ |
|                                          |
| Type "My Team" to confirm:               |
| +--------------------------------------+ |
| |                                      | |
| +--------------------------------------+ |
|                                          |
| [Cancel]                  [Delete Team]  |
|                          (disabled/red)  |
+------------------------------------------+
      </spec>
    </uxSpecs>

    <colorTheme name="Linear Productivity">
      <color name="Primary" hex="#5B5FC7" usage="버튼, 활성 탭, 포커스 링"/>
      <color name="Primary Hover" hex="#4F52B3" usage="Primary 버튼 hover"/>
      <color name="Accent" hex="#3B82F6" usage="링크, AI 그라데이션"/>
      <color name="Destructive" hex="#EF4444" usage="삭제 버튼, 에러"/>
      <color name="Background Light" hex="#FAFAFA" usage="라이트모드 배경"/>
      <color name="Background Dark" hex="#18181B" usage="다크모드 배경"/>
      <color name="Surface Light" hex="#FFFFFF" usage="라이트모드 카드"/>
      <color name="Surface Dark" hex="#1A1A1D" usage="다크모드 카드"/>
      <color name="Border Light" hex="#E4E4E7" usage="라이트모드 테두리"/>
      <color name="Border Dark" hex="#2E2E32" usage="다크모드 테두리"/>
      <color name="Text Primary Light" hex="#18181B" usage="라이트모드 본문"/>
      <color name="Text Primary Dark" hex="#FAFAFA" usage="다크모드 본문"/>
      <color name="Text Secondary" hex="#71717A" usage="보조 텍스트"/>
    </colorTheme>

    <buttonStyles>
      <button variant="primary">
        background: var(--primary)
        color: white
        padding: 8px 16px
        border-radius: 6px
      </button>
      <button variant="secondary">
        background: transparent
        color: var(--text-secondary)
        border: 1px solid var(--border)
      </button>
      <button variant="destructive">
        background: var(--destructive)
        color: white
        OR
        background: transparent
        color: var(--destructive)
        hover: background rgba(239, 68, 68, 0.1)
      </button>
    </buttonStyles>

    <modalStyle>
      background: var(--surface)
      border: 1px solid var(--border)
      border-radius: 16px (Dialog = rounded-lg = 0.5rem 기본, 큰 모달은 rounded-xl 권장)
      width: max-w-md (28rem)
      shadow: 0 20px 60px rgba(0, 0, 0, 0.2)
    </modalStyle>
  </designReference>
</story-context>
